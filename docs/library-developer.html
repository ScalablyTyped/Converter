<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta http-equiv="X-UA-Compatible" content="IE=edge"/><title>How to share code · ScalablyTyped</title><meta name="viewport" content="width=device-width"/><meta name="generator" content="Docusaurus"/><meta name="description" content="If you want to distribute code written on top of ScalablyTyped, so there is a special workflow "/><meta name="docsearch:language" content="en"/><meta property="og:title" content="How to share code · ScalablyTyped"/><meta property="og:type" content="website"/><meta property="og:url" content="https://scalablytyped.org/"/><meta property="og:description" content="If you want to distribute code written on top of ScalablyTyped, so there is a special workflow "/><meta property="og:image" content="https://scalablytyped.org/img/undraw_online.svg"/><meta name="twitter:card" content="summary"/><meta name="twitter:image" content="https://scalablytyped.org/img/undraw_tweetstorm.svg"/><link rel="shortcut icon" href="/img/favicon-st1.ico"/><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css"/><script type="text/javascript" src="https://buttons.github.io/buttons.js"></script><script src="/js/scrollSpy.js"></script><link rel="stylesheet" href="/css/main.css"/><script src="/js/codetabs.js"></script></head><body class="sideNavVisible separateOnPageNav"><div class="fixedHeaderContainer"><div class="headerWrapper wrapper"><header><a href="/"><img class="logo" src="/img/logo-3.svg" alt="ScalablyTyped"/><h2 class="headerTitleWithLogo">ScalablyTyped</h2></a><div class="navigationWrapper navigationSlider"><nav class="slidingNav"><ul class="nav-site nav-site-internal"><li class=""><a href="https://github.com/ScalablyTyped/Converter" target="_self">Github</a></li></ul></nav></div></header></div></div><div class="navPusher"><div class="docMainWrapper wrapper"><div class="docsNavContainer" id="docsNav"><nav class="toc"><div class="toggleNav"><section class="navWrapper wrapper"><div class="navBreadcrumb wrapper"><div class="navToggle" id="navToggler"><div class="hamburger-menu"><div class="line1"></div><div class="line2"></div><div class="line3"></div></div></div><h2><i>›</i><span>Getting started (library)</span></h2><div class="tocToggler" id="tocToggler"><i class="icon-toc"></i></div></div><div class="navGroups"><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">ScalablyTyped<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/readme">The Javascript ecosystem for Scala.js!</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting started (application)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/plugin">SBT plugin</a></li><li class="navListItem"><a class="navItem" href="/docs/plugin-no-bundler">SBT plugin without scalajs-bundler</a></li><li class="navListItem"><a class="navItem" href="/docs/cli">Command line tool</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Getting started (library)<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem navListItemActive"><a class="navItem" href="/docs/library-developer">How to share code</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Usage<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/usage">What do I do now?</a></li><li class="navListItem"><a class="navItem" href="/docs/objects">Working with objects</a></li><li class="navListItem"><a class="navItem" href="/docs/flavour">Flavour</a></li><li class="navListItem"><a class="navItem" href="/docs/encoding">Encoding</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Configuration<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/conversion-options">Customize the generated code.</a></li><li class="navListItem"><a class="navItem" href="/docs/remotecache">Remote cache</a></li></ul></div><div class="navGroup"><h3 class="navGroupCategoryTitle collapsible">Development<span class="arrow"><svg width="24" height="24" viewBox="0 0 24 24"><path fill="#565656" d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z"></path><path d="M0 0h24v24H0z" fill="none"></path></svg></span></h3><ul class="hide"><li class="navListItem"><a class="navItem" href="/docs/import-problems">What if I hit problems importing libraries?</a></li><li class="navListItem"><a class="navItem" href="/docs/devel/about">Development</a></li><li class="navListItem"><a class="navItem" href="/docs/devel/running">Running</a></li></ul></div></div></section></div><script>
            var coll = document.getElementsByClassName('collapsible');
            var checkActiveCategory = true;
            for (var i = 0; i < coll.length; i++) {
              var links = coll[i].nextElementSibling.getElementsByTagName('*');
              if (checkActiveCategory){
                for (var j = 0; j < links.length; j++) {
                  if (links[j].classList.contains('navListItemActive')){
                    coll[i].nextElementSibling.classList.toggle('hide');
                    coll[i].childNodes[1].classList.toggle('rotate');
                    checkActiveCategory = false;
                    break;
                  }
                }
              }

              coll[i].addEventListener('click', function() {
                var arrow = this.childNodes[1];
                arrow.classList.toggle('rotate');
                var content = this.nextElementSibling;
                content.classList.toggle('hide');
              });
            }

            document.addEventListener('DOMContentLoaded', function() {
              createToggler('#navToggler', '#docsNav', 'docsSliderActive');
              createToggler('#tocToggler', 'body', 'tocActive');

              var headings = document.querySelector('.toc-headings');
              headings && headings.addEventListener('click', function(event) {
                var el = event.target;
                while(el !== headings){
                  if (el.tagName === 'A') {
                    document.body.classList.remove('tocActive');
                    break;
                  } else{
                    el = el.parentNode;
                  }
                }
              }, false);

              function createToggler(togglerSelector, targetSelector, className) {
                var toggler = document.querySelector(togglerSelector);
                var target = document.querySelector(targetSelector);

                if (!toggler) {
                  return;
                }

                toggler.onclick = function(event) {
                  event.preventDefault();

                  target.classList.toggle(className);
                };
              }
            });
        </script></nav></div><div class="container mainContainer docsContainer"><div class="wrapper"><div class="post"><header class="postHeader"><h1 id="__docusaurus" class="postHeaderTitle">How to share code</h1></header><article><div><span><p>If you want to distribute code written on top of ScalablyTyped, so there is a special workflow
for producing free-standing libraries based on the generated code.</p>
<h2><a class="anchor" aria-hidden="true" id="example-project"></a><a href="#example-project" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Example project</h2>
<p>Have a look at <a href="https://github.com/ScalablyTyped/mobx-slinky">mobx-slinky</a>
to get a taste of what's possible. It's published through bintray so you can test it
in any Scala.js project.</p>
<h1><a class="anchor" aria-hidden="true" id="setup"></a><a href="#setup" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup</h1>
<h2><a class="anchor" aria-hidden="true" id="requirements"></a><a href="#requirements" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Requirements</h2>
<p><strong>This plugin needs sbt 1.4.x or 1.5.x</strong>.</p>
<p>Since we generate source code, it should work with any combination of
Scala 2.12 / 2.13 and Scala.js 1.x.</p>
<p>Starting from 1.0.0-beta30, it is in many cases not possible to compile the generated code
if you have the <em>macro paradise</em> plugin enabled, because of some old lingering bugs.
So don't do that, it's a dead end anyway.</p>
<h2><a class="anchor" aria-hidden="true" id="add-to-your-projectpluginssbt"></a><a href="#add-to-your-projectpluginssbt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Add to your <code>project/plugins.sbt</code></h2>
<pre><code class="hljs css language-scala">addSbtPlugin(<span class="hljs-string">"org.scalablytyped.converter"</span> % <span class="hljs-string">"sbt-converter"</span> % <span class="hljs-string">"1.0.0-beta35"</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="activate-the-plugin-for-a-project-in-your-buildsbt"></a><a href="#activate-the-plugin-for-a-project-in-your-buildsbt" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Activate the plugin for a project in your <code>build.sbt</code>:</h2>
<pre><code class="hljs css language-scala">project.enablePlugins(<span class="hljs-type">ScalablyTypedConverterGenSourcePlugin</span>)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="setup-your-npm-packages"></a><a href="#setup-your-npm-packages" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Setup your npm packages</h2>
<pre><code class="hljs css language-scala">project.settings(
  <span class="hljs-type">Compile</span> / npmDependencies ++= <span class="hljs-type">Seq</span>(
    <span class="hljs-string">"react-router-dom"</span> -&gt; <span class="hljs-string">"5.1.2"</span>,
    <span class="hljs-string">"@types/react-router-dom"</span> -&gt; <span class="hljs-string">"5.1.2"</span>
  )
)
</code></pre>
<p>Note that some packages contain first-party typescript type definitions,
while for others like <code>react-router-dom</code> we need to get separate <code>@types</code> packages.
These are originally from <a href="https://github.com/DefinitelyTyped/DefinitelyTyped">DefinitelyTyped</a>.</p>
<p>Version numbers and <code>@types</code> packages are probably most conveniently found at <a href="https://npmjs.com">npmjs.com</a>.</p>
<h2><a class="anchor" aria-hidden="true" id="choose-your-flavour-optional"></a><a href="#choose-your-flavour-optional" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Choose your flavour (optional)</h2>
<p>We have put a lot of effort into top-notch interop with two well-known
Scala.js react wrapper libraries. If you want to use either make sure to choose the corresponding <a href="/docs/flavour">flavour</a>.</p>
<h3><a class="anchor" aria-hidden="true" id="slinky"></a><a href="#slinky" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Slinky</h3>
<pre><code class="hljs css language-scala">project.settings(
 <span class="hljs-comment">// for Slinky web projects</span>
  stFlavour := <span class="hljs-type">Flavour</span>.<span class="hljs-type">Slinky</span>,
  <span class="hljs-comment">// for Slinky native projects</span>
  stFlavour := <span class="hljs-type">Flavour</span>.<span class="hljs-type">SlinkyNative</span>,
)
</code></pre>
<h3><a class="anchor" aria-hidden="true" id="scalajs-react"></a><a href="#scalajs-react" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Scalajs-react</h3>
<pre><code class="hljs css language-scala">project.settings(
  stFlavour := <span class="hljs-type">Flavour</span>.<span class="hljs-type">Japgolly</span>
)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="use-yarn-instead-of-npm"></a><a href="#use-yarn-instead-of-npm" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Use yarn instead of npm</h2>
<p>The plugin checks for updated npm dependencies on each compile, and yarn responds much faster than npm.</p>
<p>Configure scalajs-bundler like this:</p>
<pre><code class="hljs css language-scala">project.settings(
  useYarn := <span class="hljs-literal">true</span>
)
</code></pre>
<p>Yarn will need to be present on your system for this to work. You should also check in <code>yarn.lock</code>.</p>
<h2><a class="anchor" aria-hidden="true" id="how-it-works"></a><a href="#how-it-works" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>How it works</h2>
<p>The conversion process itself is the same as the normal plugin, but the development process differs a bit:</p>
<ul>
<li><p>It supports minimizing transitive dependencies.
You typically want to focus on one library. The fact that it may use node, std, or whatever else is probably secondary.
You might even want to break such dependency chain explicitly for your users, so that all references to such libraries will end up as <code>js.Any</code></p></li>
<li><p>You'll compile all the generated code completely normally as part of your build.
The reason why this is beneficial for a distributing a library is that it'll be completely
free-standing with no dependency on the plugin.</p></li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="two-different-modes-stsourcegenmode"></a><a href="#two-different-modes-stsourcegenmode" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Two different modes (<code>stSourceGenMode</code>)</h3>
<ul>
<li><code>stSourceGenMode := SourceGenMode.ResourceGenerator</code> (the default)</li>
</ul>
<p>In this mode the plugin works as a source generator in sbt, and the source code will be placed in
<code>target/scala-2.13/src_managed/scalablytyped</code> (or similar)</p>
<ul>
<li><code>stSourceGenMode := SourceGenMode.Manual(toDir: File)</code>
In this mode the plugin will only run when you run <code>stImport</code> manually, and you specify which directory
the source files will be placed in. Note that the plugin <em>will delete any other files in this folder</em>,</li>
</ul>
<h3><a class="anchor" aria-hidden="true" id="compiling-all-that-generated-code"></a><a href="#compiling-all-that-generated-code" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Compiling all that generated code</h3>
<p>There may be a <strong>lot</strong>.</p>
<p><a href="/docs/conversion-options#stignore">Ignoring libraries or modules (stIgnore)</a> will help, but our main tool here is called <code>stMinimize</code>.</p>
<p>By minimization we mean to remove everything from a library except what is referenced from somewhere else, so that
things keep compiling.</p>
<p>The point is that you typically want everything from your main libraries,
but you care less about their (transitive) dependencies.</p>
<p>Since you typically don't want to enumerate all transitive dependencies, the <code>Selection</code> helper type provided for this:</p>
<ul>
<li><code>Selection.None</code> disables for all libraries (default)</li>
<li><code>Selection.NoneExcept(String*)</code> enables only given libraries</li>
<li><code>Selection.All</code> enables for all libraries</li>
<li><code>Selection.AllExcept(String*)</code> enables only not given libraries (most useful)</li>
</ul>
<p>Using that, typical usage of <code>stMinimize</code> looks like this:</p>
<pre><code class="hljs css language-scala">project.settings(
  <span class="hljs-type">Compile</span> / stMinimize := <span class="hljs-type">Selection</span>.<span class="hljs-type">AllExcept</span>(<span class="hljs-string">"axios"</span>, <span class="hljs-string">"material-ui"</span>, <span class="hljs-string">"mobx-react"</span>, <span class="hljs-string">"mobx"</span>)
)
</code></pre>
<p>Note that if you use a <a href="/docs/flavour">react flavour</a> which generates a <code>components</code> package, all those
components are considered &quot;entry points&quot;, and are not eligible for removal.
In other words, if you use <strong>only</strong> react components from a library, it's fine to minimize that, too.</p>
<h3><a class="anchor" aria-hidden="true" id="stminimizekeep"></a><a href="#stminimizekeep" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a><code>stMinimizeKeep</code></h3>
<p>If you want to just keep a few things from a library and minimize away the rest, there is also a mechanism for that.
The names you supply should be exactly as they appear in the generated scala code without the initial package prefix (typically <code>typings</code>).</p>
<pre><code class="hljs css language-scala">project.settings(
  <span class="hljs-comment">/* setup libraries */</span>
  <span class="hljs-type">Compile</span> / npmDependencies ++= <span class="hljs-type">Seq</span>(
    <span class="hljs-string">"moment"</span> -&gt; <span class="hljs-string">"2.24.0"</span>,
    <span class="hljs-string">"react-big-calendar"</span> -&gt; <span class="hljs-string">"0.22"</span>,
    <span class="hljs-string">"@types/react-big-calendar"</span> -&gt; <span class="hljs-string">"0.22.3"</span>
  ),
  <span class="hljs-comment">/* say we want to minimize all */</span>
  stMinimize := <span class="hljs-type">Selection</span>.<span class="hljs-type">All</span>,
  <span class="hljs-comment">/* but keep these very specific things*/</span>
  stMinimizeKeep ++= <span class="hljs-type">List</span>(
    <span class="hljs-string">"moment.mod.^"</span>,
    <span class="hljs-string">"reactBigCalendar.mod.momentLocalizer"</span>,
    <span class="hljs-string">"reactBigCalendar.mod.View"</span>,
  ),
)
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="recommended-settings"></a><a href="#recommended-settings" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Recommended settings</h2>
<p>With <a href="/docs/conversion-options#stusescalajsdom"><code>stUseScalaJsDom</code></a> set to true, <code>stMinimize</code> which removes most unnecessary code
you should now have a reasonably small amount of code to compile.</p>
<p>With <a href="/docs/conversion-options#stoutputpackage"><code>stOutputPackage</code></a> it'll be shaded into another package so it won't clash with
other usage of ScalablyTyped.</p>
<p>A this point you can start adding your own code if wanted, and publish libraries completely
free-standing libraries.</p>
<p>If you are only packaging a facade generated from scalablytyped, without any custom code, you are likely better by excluding the javadocs on the library package, which can be done with (sonatype requires the docs artifact to be uploaded even if it is empty):</p>
<pre><code class="hljs css language-scala">    sources in (<span class="hljs-type">Compile</span>, doc) := <span class="hljs-type">Nil</span>,
</code></pre>
<h2><a class="anchor" aria-hidden="true" id="troubleshooting"></a><a href="#troubleshooting" aria-hidden="true" class="hash-link"><svg class="hash-link-icon" aria-hidden="true" height="16" version="1.1" viewBox="0 0 16 16" width="16"><path fill-rule="evenodd" d="M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z"></path></svg></a>Troubleshooting</h2>
<p>If you get Stackoverflow errors, make sure that the <code>-Ymacro-annotations</code> compiler option is not enabled, while this works fine on application development, it commonly causes issues on library development.</p>
</span></div></article></div><div class="docs-prevnext"><a class="docs-prev button" href="/docs/cli"><span class="arrow-prev">← </span><span>Command line tool</span></a><a class="docs-next button" href="/docs/usage"><span>What do I do now?</span><span class="arrow-next"> →</span></a></div></div></div><nav class="onPageNav"><ul class="toc-headings"><li><a href="#example-project">Example project</a></li><li><a href="#requirements">Requirements</a></li><li><a href="#add-to-your-projectpluginssbt">Add to your <code>project/plugins.sbt</code></a></li><li><a href="#activate-the-plugin-for-a-project-in-your-buildsbt">Activate the plugin for a project in your <code>build.sbt</code>:</a></li><li><a href="#setup-your-npm-packages">Setup your npm packages</a></li><li><a href="#choose-your-flavour-optional">Choose your flavour (optional)</a><ul class="toc-headings"><li><a href="#slinky">Slinky</a></li><li><a href="#scalajs-react">Scalajs-react</a></li></ul></li><li><a href="#use-yarn-instead-of-npm">Use yarn instead of npm</a></li><li><a href="#how-it-works">How it works</a><ul class="toc-headings"><li><a href="#two-different-modes-stsourcegenmode">Two different modes (<code>stSourceGenMode</code>)</a></li><li><a href="#compiling-all-that-generated-code">Compiling all that generated code</a></li><li><a href="#stminimizekeep"><code>stMinimizeKeep</code></a></li></ul></li><li><a href="#recommended-settings">Recommended settings</a></li><li><a href="#troubleshooting">Troubleshooting</a></li></ul></nav></div><footer class="nav-footer" id="footer"><section class="sitemap"><a href="/" class="nav-home"><img src="/img/logo-1.svg" alt="ScalablyTyped" width="66" height="58"/></a><div><h5>Community</h5><a href="https://gitter.im/ScalablyTyped/community/">Project Chat</a></div><div><h5>More</h5><a href="https://github.com/oyvindberg/ScalablyTypedConverter/">GitHub</a><a class="github-button" href="https://github.com/ScalablyTyped/Converter/" data-icon="octicon-star" data-count-href="/facebook/docusaurus/stargazers" data-show-count="true" data-count-aria-label="# stargazers on GitHub" aria-label="Star this project on GitHub">Star</a></div></section><section class="copyright">Copyright © 2021 Øyvind Raddum Berg</section></footer></div></body></html>